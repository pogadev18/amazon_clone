[debug] [2020-09-17T11:44:42.019Z] ----------------------------------------------------------------------
[debug] [2020-09-17T11:44:42.022Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2020-09-17T11:44:42.023Z] CLI Version:   8.10.0
[debug] [2020-09-17T11:44:42.023Z] Platform:      win32
[debug] [2020-09-17T11:44:42.023Z] Node Version:  v12.16.3
[debug] [2020-09-17T11:44:42.025Z] Time:          Thu Sep 17 2020 14:44:42 GMT+0300 (Eastern European Summer Time)
[debug] [2020-09-17T11:44:42.025Z] ----------------------------------------------------------------------
[debug] [2020-09-17T11:44:42.025Z] 
[debug] [2020-09-17T11:44:42.038Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-09-17T11:44:42.039Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2020-09-17T11:44:43.105Z] [hub] writing locator at C:\Users\Bogdan\AppData\Local\Temp\hub-clone-60d22.json
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, database, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, database, pubsub\u001b[22m"}}
[warn] !  Your requested "node" version "10" doesn't match your global version "12" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"12\""}}
[debug] [2020-09-17T11:44:44.154Z] defaultcredentials: writing to file C:\Users\Bogdan\AppData\Roaming\firebase\pogadev18_gmail_com_application_default_credentials.json
[debug] [2020-09-17T11:44:44.159Z] Setting GAC to C:\Users\Bogdan\AppData\Roaming\firebase\pogadev18_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Bogdan\\AppData\\Roaming\\firebase\\pogadev18_gmail_com_application_default_credentials.json"}}
[debug] [2020-09-17T11:44:45.184Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2020-09-17T11:44:45.185Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2020-09-17T11:44:45.311Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 17 Sep 2020 11:44:45 GMT","server":"scaffolding on HTTPServer2","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-09-17T11:44:45.324Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/clone-60d22/webApps/-/config  
 
[debug] [2020-09-17T11:44:46.239Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 17 Sep 2020 11:44:45 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2020-09-17T11:44:48.322Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2020-09-17T11:44:48.322Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2020-09-17T11:44:48.323Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\Bogdan\\.cache\\firebase\\emulators\\ui-v1.1.1\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\Bogdan\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.1.1\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2020-09-17T11:44:48.529Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "C:\Users\Bogdan\Desktop\amazon_clone\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\" for Cloud Functions..."}}
[debug] [2020-09-17T11:44:48.883Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-17T11:44:48.884Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-09-17T11:44:48.884Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-17T11:44:48.885Z] [worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\16284 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\16284"}}
[debug] [2020-09-17T11:44:48.885Z] [worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: BUSY"}}
[debug] [2020-09-17T11:44:49.521Z] [runtime-status] [16284] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T11:44:49.527Z] [runtime-status] [16284] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] Disabled runtime features: undefined"}}
[debug] [2020-09-17T11:44:49.534Z] [runtime-status] [16284] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:44:49.540Z] [runtime-status] [16284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:44:49.542Z] [runtime-status] [16284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:44:49.544Z] [runtime-status] [16284] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T11:44:49.545Z] [runtime-status] [16284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:44:49.607Z] [runtime-status] [16284] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T11:44:49.607Z] [runtime-status] [16284] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T11:44:49.608Z] [runtime-status] [16284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:44:49.610Z] [runtime-status] [16284] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:44:49.611Z] [runtime-status] [16284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:44:49.611Z] [runtime-status] [16284] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16284] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[api]: http function initialized (http://localhost:5001/clone-60d22/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-60d22/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4000 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4400, 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2020-09-17T11:44:49.852Z] [worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: IDLE"}}
[debug] [2020-09-17T11:45:08.915Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T11:45:08.915Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T11:45:08.916Z] Accepted request GET /clone-60d22/us-central1/api --> api
[debug] [2020-09-17T11:45:08.921Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-17T11:45:08.922Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-17T11:45:08.922Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T11:45:08.922Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\16136 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\16136"}}
[debug] [2020-09-17T11:45:08.923Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: BUSY"}}
[debug] [2020-09-17T11:45:09.761Z] [runtime-status] [16136] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T11:45:09.771Z] [runtime-status] [16136] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Disabled runtime features: undefined"}}
[debug] [2020-09-17T11:45:09.781Z] [runtime-status] [16136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:45:09.785Z] [runtime-status] [16136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:45:09.787Z] [runtime-status] [16136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:45:09.789Z] [runtime-status] [16136] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T11:45:09.790Z] [runtime-status] [16136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:45:09.862Z] [runtime-status] [16136] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T11:45:09.863Z] [runtime-status] [16136] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T11:45:09.864Z] [runtime-status] [16136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:45:09.866Z] [runtime-status] [16136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:45:09.867Z] [runtime-status] [16136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:45:09.867Z] [runtime-status] [16136] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T11:45:10.137Z] [runtime-status] [16136] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T11:45:10.139Z] [runtime-status] [16136] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T11:45:10.139Z] [runtime-status] [16136] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Running api in mode HTTPS"}}
[debug] [2020-09-17T11:45:10.145Z] [runtime-status] [16136] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\16136 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\16136"}}
[debug] [2020-09-17T11:45:10.150Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T11:45:10.163Z] [runtime-status] [16136] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Ephemeral server handling GET request"}}
[debug] [2020-09-17T11:45:10.174Z] [runtime-status] [16136] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-17T11:45:10.187Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: IDLE"}}
[debug] [2020-09-17T11:45:10.188Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T11:46:35.731Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T11:46:35.732Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T11:46:35.732Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=280042 --> api
[debug] [2020-09-17T11:46:35.733Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T11:46:35.734Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\16136 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\16136"}}
[debug] [2020-09-17T11:46:35.734Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: BUSY"}}
[debug] [2020-09-17T11:46:35.735Z] [runtime-status] [16136] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T11:46:35.742Z] [runtime-status] [16136] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T11:46:35.743Z] [runtime-status] [16136] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Running api in mode HTTPS"}}
[debug] [2020-09-17T11:46:35.744Z] [runtime-status] [16136] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\16136 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\16136"}}
[debug] [2020-09-17T11:46:35.745Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T11:46:35.756Z] [runtime-status] [16136] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 280042 {"user":"payment request recieved!!! for this amount >>> 280042","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 280042"}}
[debug] [2020-09-17T11:46:35.776Z] [runtime-status] [16136] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-17T11:46:36.516Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: IDLE"}}
[debug] [2020-09-17T11:46:36.516Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T11:47:45.277Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T11:47:45.279Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T11:47:45.279Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=6500 --> api
[debug] [2020-09-17T11:47:45.280Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T11:47:45.281Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\16136 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\16136"}}
[debug] [2020-09-17T11:47:45.281Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: BUSY"}}
[debug] [2020-09-17T11:47:45.283Z] [runtime-status] [16136] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T11:47:45.291Z] [runtime-status] [16136] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T11:47:45.293Z] [runtime-status] [16136] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Running api in mode HTTPS"}}
[debug] [2020-09-17T11:47:45.297Z] [runtime-status] [16136] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\16136 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\16136"}}
[debug] [2020-09-17T11:47:45.300Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T11:47:45.308Z] [runtime-status] [16136] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 6500 {"user":"payment request recieved!!! for this amount >>> 6500","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 6500"}}
[debug] [2020-09-17T11:47:45.313Z] [runtime-status] [16136] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-17T11:47:45.669Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: IDLE"}}
[debug] [2020-09-17T11:47:45.670Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T11:48:59.350Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T11:48:59.351Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T11:48:59.352Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-17T11:48:59.352Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T11:48:59.353Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\16136 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\16136"}}
[debug] [2020-09-17T11:48:59.354Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: BUSY"}}
[debug] [2020-09-17T11:48:59.355Z] [runtime-status] [16136] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T11:48:59.408Z] [runtime-status] [16136] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T11:48:59.409Z] [runtime-status] [16136] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Running api in mode HTTPS"}}
[debug] [2020-09-17T11:48:59.409Z] [runtime-status] [16136] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\16136 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\16136"}}
[debug] [2020-09-17T11:48:59.411Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T11:48:59.415Z] [runtime-status] [16136] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-17T11:48:59.418Z] [runtime-status] [16136] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16136] Ephemeral server survived."}}
[info] >  (node:16136) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:16136) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16136) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:16136) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16136) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16136) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16136) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16136) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16136) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-17T11:49:16.591Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-17T11:49:16.591Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-17T11:49:16.591Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-17T11:49:16.598Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-17T11:49:16.599Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-17T11:49:16.599Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T11:49:16.599Z] [worker-api-e984553d-f4d3-4297-b553-c55f1d219596]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\7528 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e984553d-f4d3-4297-b553-c55f1d219596]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\7528"}}
[debug] [2020-09-17T11:49:16.599Z] [worker-api-e984553d-f4d3-4297-b553-c55f1d219596]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e984553d-f4d3-4297-b553-c55f1d219596]: BUSY"}}
[debug] [2020-09-17T11:49:18.496Z] [runtime-status] [7528] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T11:49:18.506Z] [runtime-status] [7528] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Disabled runtime features: undefined"}}
[debug] [2020-09-17T11:49:18.524Z] [runtime-status] [7528] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:49:18.527Z] [runtime-status] [7528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:49:18.529Z] [runtime-status] [7528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:49:18.533Z] [runtime-status] [7528] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T11:49:18.535Z] [runtime-status] [7528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:49:18.767Z] [runtime-status] [7528] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T11:49:18.767Z] [runtime-status] [7528] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T11:49:18.768Z] [runtime-status] [7528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:49:18.771Z] [runtime-status] [7528] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:49:18.773Z] [runtime-status] [7528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:49:18.773Z] [runtime-status] [7528] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T11:49:19.285Z] [runtime-status] [7528] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T11:49:19.286Z] [runtime-status] [7528] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T11:49:19.287Z] [runtime-status] [7528] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Running api in mode HTTPS"}}
[debug] [2020-09-17T11:49:19.301Z] [runtime-status] [7528] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\7528 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\7528"}}
[debug] [2020-09-17T11:49:19.309Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T11:49:19.327Z] [runtime-status] [7528] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-17T11:49:19.354Z] [runtime-status] [7528] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7528] Ephemeral server survived."}}
[info] >  (node:7528) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7528) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7528) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:7528) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7528) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7528) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7528) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7528) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7528) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-17T11:49:59.395Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: exited"}}
[debug] [2020-09-17T11:49:59.395Z] [worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9e66d331-33cd-40d2-b90b-e942e64ef302]: FINISHED"}}
[debug] [2020-09-17T11:49:59.396Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-17T11:50:19.414Z] [worker-api-e984553d-f4d3-4297-b553-c55f1d219596]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e984553d-f4d3-4297-b553-c55f1d219596]: exited"}}
[debug] [2020-09-17T11:50:19.415Z] [worker-api-e984553d-f4d3-4297-b553-c55f1d219596]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e984553d-f4d3-4297-b553-c55f1d219596]: FINISHED"}}
[debug] [2020-09-17T11:50:19.415Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T11:50:52.923Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T11:50:52.923Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T11:50:52.923Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-17T11:50:52.924Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-17T11:50:52.932Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-17T11:50:52.933Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-17T11:50:52.933Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T11:50:52.934Z] [worker-api-69c2f016-3dce-4671-8213-513dfe04392f]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\9356 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69c2f016-3dce-4671-8213-513dfe04392f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\9356"}}
[debug] [2020-09-17T11:50:52.934Z] [worker-api-69c2f016-3dce-4671-8213-513dfe04392f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69c2f016-3dce-4671-8213-513dfe04392f]: BUSY"}}
[debug] [2020-09-17T11:50:55.858Z] [runtime-status] [9356] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T11:50:55.903Z] [runtime-status] [9356] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Disabled runtime features: undefined"}}
[debug] [2020-09-17T11:50:55.954Z] [runtime-status] [9356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:50:55.964Z] [runtime-status] [9356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:50:55.969Z] [runtime-status] [9356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:50:55.982Z] [runtime-status] [9356] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T11:50:55.984Z] [runtime-status] [9356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:50:56.349Z] [runtime-status] [9356] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T11:50:56.350Z] [runtime-status] [9356] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T11:50:56.351Z] [runtime-status] [9356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:50:56.353Z] [runtime-status] [9356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:50:56.414Z] [runtime-status] [9356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:50:56.416Z] [runtime-status] [9356] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T11:50:57.500Z] [runtime-status] [9356] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T11:50:57.502Z] [runtime-status] [9356] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T11:50:57.503Z] [runtime-status] [9356] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Running api in mode HTTPS"}}
[debug] [2020-09-17T11:50:57.519Z] [runtime-status] [9356] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\9356 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\9356"}}
[debug] [2020-09-17T11:50:57.526Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T11:50:57.548Z] [runtime-status] [9356] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-17T11:50:57.582Z] [runtime-status] [9356] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9356] Ephemeral server survived."}}
[info] >  (node:9356) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:9356) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9356) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:9356) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9356) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9356) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9356) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9356) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9356) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-17T11:51:41.065Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-17T11:51:41.066Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-17T11:51:41.067Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=78999 --> api
[debug] [2020-09-17T11:51:41.077Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-17T11:51:41.078Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-17T11:51:41.078Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T11:51:41.078Z] [worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\3196 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\3196"}}
[debug] [2020-09-17T11:51:41.078Z] [worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: BUSY"}}
[debug] [2020-09-17T11:51:43.198Z] [runtime-status] [3196] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T11:51:43.212Z] [runtime-status] [3196] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Disabled runtime features: undefined"}}
[debug] [2020-09-17T11:51:43.225Z] [runtime-status] [3196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:51:43.234Z] [runtime-status] [3196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:51:43.241Z] [runtime-status] [3196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:51:43.245Z] [runtime-status] [3196] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T11:51:43.246Z] [runtime-status] [3196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:51:43.430Z] [runtime-status] [3196] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T11:51:43.431Z] [runtime-status] [3196] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T11:51:43.433Z] [runtime-status] [3196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:51:43.441Z] [runtime-status] [3196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:51:43.442Z] [runtime-status] [3196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T11:51:43.442Z] [runtime-status] [3196] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T11:51:43.896Z] [runtime-status] [3196] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T11:51:43.900Z] [runtime-status] [3196] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T11:51:43.902Z] [runtime-status] [3196] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Running api in mode HTTPS"}}
[debug] [2020-09-17T11:51:43.911Z] [runtime-status] [3196] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\3196 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\3196"}}
[debug] [2020-09-17T11:51:43.917Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T11:51:43.935Z] [runtime-status] [3196] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 78999 {"user":"payment request recieved!!! for this amount >>> 78999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 78999"}}
[debug] [2020-09-17T11:51:43.965Z] [runtime-status] [3196] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-17T11:51:44.497Z] [worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: IDLE"}}
[debug] [2020-09-17T11:51:44.498Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-17T11:51:57.547Z] [worker-api-69c2f016-3dce-4671-8213-513dfe04392f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69c2f016-3dce-4671-8213-513dfe04392f]: exited"}}
[debug] [2020-09-17T11:51:57.547Z] [worker-api-69c2f016-3dce-4671-8213-513dfe04392f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69c2f016-3dce-4671-8213-513dfe04392f]: FINISHED"}}
[debug] [2020-09-17T11:51:57.547Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T11:52:18.092Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T11:52:18.092Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T11:52:18.092Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-17T11:52:18.092Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-17T11:52:18.092Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T11:52:18.093Z] [worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\3196 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\3196"}}
[debug] [2020-09-17T11:52:18.093Z] [worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: BUSY"}}
[debug] [2020-09-17T11:52:18.093Z] [runtime-status] [3196] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T11:52:18.094Z] [runtime-status] [3196] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T11:52:18.095Z] [runtime-status] [3196] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Running api in mode HTTPS"}}
[debug] [2020-09-17T11:52:18.095Z] [runtime-status] [3196] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\3196 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\3196"}}
[debug] [2020-09-17T11:52:18.096Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T11:52:18.100Z] [runtime-status] [3196] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-17T11:52:18.103Z] [runtime-status] [3196] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3196] Ephemeral server survived."}}
[info] >  (node:3196) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:3196) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3196) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:3196) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:3196) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3196) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:3196) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:3196) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3196) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-17T11:53:18.148Z] [worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: exited"}}
[debug] [2020-09-17T11:53:18.148Z] [worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b589270-8d93-4ea4-b88f-cfb29f6b1230]: FINISHED"}}
[debug] [2020-09-17T11:53:18.149Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T13:10:29.024Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T13:10:29.025Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T13:10:29.025Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=78999 --> api
[debug] [2020-09-17T13:10:29.025Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-17T13:10:29.036Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-17T13:10:29.036Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-17T13:10:29.036Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T13:10:29.036Z] [worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\14612 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\14612"}}
[debug] [2020-09-17T13:10:29.037Z] [worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: BUSY"}}
[debug] [2020-09-17T13:10:30.724Z] [runtime-status] [14612] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T13:10:30.727Z] [runtime-status] [14612] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Disabled runtime features: undefined"}}
[debug] [2020-09-17T13:10:30.735Z] [runtime-status] [14612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:10:30.742Z] [runtime-status] [14612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:10:30.744Z] [runtime-status] [14612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:10:30.748Z] [runtime-status] [14612] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T13:10:30.749Z] [runtime-status] [14612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:10:30.836Z] [runtime-status] [14612] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T13:10:30.836Z] [runtime-status] [14612] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:10:30.837Z] [runtime-status] [14612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:10:30.839Z] [runtime-status] [14612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:10:30.840Z] [runtime-status] [14612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:10:30.840Z] [runtime-status] [14612] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:10:31.215Z] [runtime-status] [14612] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T13:10:31.217Z] [runtime-status] [14612] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T13:10:31.217Z] [runtime-status] [14612] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Running api in mode HTTPS"}}
[debug] [2020-09-17T13:10:31.225Z] [runtime-status] [14612] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\14612 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\14612"}}
[debug] [2020-09-17T13:10:31.230Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T13:10:31.241Z] [runtime-status] [14612] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 78999 {"user":"payment request recieved!!! for this amount >>> 78999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 78999"}}
[debug] [2020-09-17T13:10:31.263Z] [runtime-status] [14612] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-17T13:10:31.821Z] [worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: IDLE"}}
[debug] [2020-09-17T13:10:31.822Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T13:10:37.934Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T13:10:37.934Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T13:10:37.934Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-17T13:10:37.934Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T13:10:37.934Z] [worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\14612 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\14612"}}
[debug] [2020-09-17T13:10:37.934Z] [worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: BUSY"}}
[debug] [2020-09-17T13:10:37.935Z] [runtime-status] [14612] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T13:10:37.940Z] [runtime-status] [14612] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T13:10:37.940Z] [runtime-status] [14612] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Running api in mode HTTPS"}}
[debug] [2020-09-17T13:10:37.941Z] [runtime-status] [14612] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\14612 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\14612"}}
[debug] [2020-09-17T13:10:37.942Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T13:10:37.946Z] [runtime-status] [14612] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-17T13:10:37.951Z] [runtime-status] [14612] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14612] Ephemeral server survived."}}
[info] >  (node:14612) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:14612) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14612) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:14612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:14612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:14612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-17T13:11:37.993Z] [worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: exited"}}
[debug] [2020-09-17T13:11:37.993Z] [worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd1a0f2a-1e52-43b8-b5be-fccd410bbf2a]: FINISHED"}}
[debug] [2020-09-17T13:11:37.993Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T13:13:06.438Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T13:13:06.438Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T13:13:06.438Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=72499 --> api
[debug] [2020-09-17T13:13:06.438Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-17T13:13:06.445Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-17T13:13:06.445Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-17T13:13:06.445Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T13:13:06.445Z] [worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\5200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\5200"}}
[debug] [2020-09-17T13:13:06.445Z] [worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: BUSY"}}
[debug] [2020-09-17T13:13:07.647Z] [runtime-status] [5200] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T13:13:07.657Z] [runtime-status] [5200] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Disabled runtime features: undefined"}}
[debug] [2020-09-17T13:13:07.664Z] [runtime-status] [5200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:13:07.671Z] [runtime-status] [5200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:13:07.676Z] [runtime-status] [5200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:13:07.678Z] [runtime-status] [5200] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T13:13:07.679Z] [runtime-status] [5200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:13:07.755Z] [runtime-status] [5200] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T13:13:07.756Z] [runtime-status] [5200] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:13:07.758Z] [runtime-status] [5200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:13:07.760Z] [runtime-status] [5200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:13:07.761Z] [runtime-status] [5200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:13:07.761Z] [runtime-status] [5200] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:13:08.063Z] [runtime-status] [5200] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T13:13:08.064Z] [runtime-status] [5200] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T13:13:08.065Z] [runtime-status] [5200] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Running api in mode HTTPS"}}
[debug] [2020-09-17T13:13:08.076Z] [runtime-status] [5200] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\5200 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\5200"}}
[debug] [2020-09-17T13:13:08.081Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T13:13:08.104Z] [runtime-status] [5200] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 72499 {"user":"payment request recieved!!! for this amount >>> 72499","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 72499"}}
[debug] [2020-09-17T13:13:08.138Z] [runtime-status] [5200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-17T13:13:08.709Z] [worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: IDLE"}}
[debug] [2020-09-17T13:13:08.709Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T13:13:18.016Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T13:13:18.017Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T13:13:18.017Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-17T13:13:18.017Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T13:13:18.017Z] [worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\5200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\5200"}}
[debug] [2020-09-17T13:13:18.017Z] [worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: BUSY"}}
[debug] [2020-09-17T13:13:18.018Z] [runtime-status] [5200] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T13:13:18.020Z] [runtime-status] [5200] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T13:13:18.020Z] [runtime-status] [5200] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Running api in mode HTTPS"}}
[debug] [2020-09-17T13:13:18.029Z] [runtime-status] [5200] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\5200 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\5200"}}
[debug] [2020-09-17T13:13:18.031Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T13:13:18.035Z] [runtime-status] [5200] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-17T13:13:18.037Z] [runtime-status] [5200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5200] Ephemeral server survived."}}
[info] >  (node:5200) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:5200) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5200) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:5200) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:5200) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5200) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:5200) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:5200) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5200) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-17T13:14:18.070Z] [worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: exited"}}
[debug] [2020-09-17T13:14:18.071Z] [worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd2435ce-8ebf-411b-b078-29e9f3f8784d]: FINISHED"}}
[debug] [2020-09-17T13:14:18.071Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T13:15:12.136Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T13:15:12.136Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T13:15:12.136Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=72499 --> api
[debug] [2020-09-17T13:15:12.137Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-17T13:15:12.143Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-17T13:15:12.143Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-17T13:15:12.144Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T13:15:12.144Z] [worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\7208 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\7208"}}
[debug] [2020-09-17T13:15:12.144Z] [worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: BUSY"}}
[debug] [2020-09-17T13:15:13.690Z] [runtime-status] [7208] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T13:15:13.706Z] [runtime-status] [7208] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Disabled runtime features: undefined"}}
[debug] [2020-09-17T13:15:13.750Z] [runtime-status] [7208] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:15:13.756Z] [runtime-status] [7208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:15:13.759Z] [runtime-status] [7208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:15:13.761Z] [runtime-status] [7208] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T13:15:13.765Z] [runtime-status] [7208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:15:13.885Z] [runtime-status] [7208] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T13:15:13.885Z] [runtime-status] [7208] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:15:13.886Z] [runtime-status] [7208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:15:13.888Z] [runtime-status] [7208] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:15:13.889Z] [runtime-status] [7208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:15:13.889Z] [runtime-status] [7208] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:15:14.201Z] [runtime-status] [7208] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T13:15:14.202Z] [runtime-status] [7208] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T13:15:14.203Z] [runtime-status] [7208] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Running api in mode HTTPS"}}
[debug] [2020-09-17T13:15:14.210Z] [runtime-status] [7208] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\7208 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\7208"}}
[debug] [2020-09-17T13:15:14.218Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T13:15:14.232Z] [runtime-status] [7208] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 72499 {"user":"payment request recieved!!! for this amount >>> 72499","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 72499"}}
[debug] [2020-09-17T13:15:14.258Z] [runtime-status] [7208] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-17T13:15:14.831Z] [worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: IDLE"}}
[debug] [2020-09-17T13:15:14.832Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T13:15:19.317Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T13:15:19.317Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T13:15:19.318Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-17T13:15:19.318Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T13:15:19.318Z] [worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\7208 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\7208"}}
[debug] [2020-09-17T13:15:19.318Z] [worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: BUSY"}}
[debug] [2020-09-17T13:15:19.319Z] [runtime-status] [7208] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T13:15:19.320Z] [runtime-status] [7208] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T13:15:19.320Z] [runtime-status] [7208] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Running api in mode HTTPS"}}
[debug] [2020-09-17T13:15:19.320Z] [runtime-status] [7208] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\7208 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\7208"}}
[debug] [2020-09-17T13:15:19.321Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T13:15:19.325Z] [runtime-status] [7208] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-17T13:15:19.327Z] [runtime-status] [7208] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7208] Ephemeral server survived."}}
[info] >  (node:7208) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7208) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7208) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:7208) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7208) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7208) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7208) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7208) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7208) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-17T13:16:19.348Z] [worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: exited"}}
[debug] [2020-09-17T13:16:19.349Z] [worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2041746c-44e8-4a16-8e2a-bad2822ebb0b]: FINISHED"}}
[debug] [2020-09-17T13:16:19.349Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T13:37:52.464Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T13:37:52.464Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T13:37:52.464Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=67522 --> api
[debug] [2020-09-17T13:37:52.465Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-17T13:37:52.471Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-17T13:37:52.471Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-17T13:37:52.472Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T13:37:52.472Z] [worker-api-14f6440d-d902-464d-9230-1a5c04218310]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\15732 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-14f6440d-d902-464d-9230-1a5c04218310]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\15732"}}
[debug] [2020-09-17T13:37:52.472Z] [worker-api-14f6440d-d902-464d-9230-1a5c04218310]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-14f6440d-d902-464d-9230-1a5c04218310]: BUSY"}}
[debug] [2020-09-17T13:37:53.450Z] [runtime-status] [15732] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T13:37:53.460Z] [runtime-status] [15732] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Disabled runtime features: undefined"}}
[debug] [2020-09-17T13:37:53.470Z] [runtime-status] [15732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:37:53.473Z] [runtime-status] [15732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:37:53.477Z] [runtime-status] [15732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:37:53.480Z] [runtime-status] [15732] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T13:37:53.481Z] [runtime-status] [15732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:37:53.562Z] [runtime-status] [15732] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T13:37:53.562Z] [runtime-status] [15732] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:37:53.563Z] [runtime-status] [15732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:37:53.565Z] [runtime-status] [15732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:37:53.566Z] [runtime-status] [15732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:37:53.566Z] [runtime-status] [15732] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:37:53.820Z] [runtime-status] [15732] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T13:37:53.821Z] [runtime-status] [15732] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T13:37:53.821Z] [runtime-status] [15732] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Running api in mode HTTPS"}}
[debug] [2020-09-17T13:37:53.830Z] [runtime-status] [15732] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\15732 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\15732"}}
[debug] [2020-09-17T13:37:53.836Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T13:37:53.851Z] [runtime-status] [15732] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 67522 {"user":"payment request recieved!!! for this amount >>> 67522","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 67522"}}
[debug] [2020-09-17T13:37:53.875Z] [runtime-status] [15732] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-17T13:37:54.644Z] [worker-api-14f6440d-d902-464d-9230-1a5c04218310]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-14f6440d-d902-464d-9230-1a5c04218310]: IDLE"}}
[debug] [2020-09-17T13:37:54.645Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T13:38:30.512Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T13:38:30.513Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T13:38:30.513Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-17T13:38:30.513Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T13:38:30.514Z] [worker-api-14f6440d-d902-464d-9230-1a5c04218310]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\15732 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-14f6440d-d902-464d-9230-1a5c04218310]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\15732"}}
[debug] [2020-09-17T13:38:30.514Z] [worker-api-14f6440d-d902-464d-9230-1a5c04218310]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-14f6440d-d902-464d-9230-1a5c04218310]: BUSY"}}
[debug] [2020-09-17T13:38:30.515Z] [runtime-status] [15732] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T13:38:30.542Z] [runtime-status] [15732] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T13:38:30.543Z] [runtime-status] [15732] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Running api in mode HTTPS"}}
[debug] [2020-09-17T13:38:30.543Z] [runtime-status] [15732] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\15732 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\15732"}}
[debug] [2020-09-17T13:38:30.545Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T13:38:30.551Z] [runtime-status] [15732] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-17T13:38:30.564Z] [runtime-status] [15732] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15732] Ephemeral server survived."}}
[info] >  (node:15732) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15732) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15732) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:15732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-17T13:39:30.551Z] [worker-api-14f6440d-d902-464d-9230-1a5c04218310]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-14f6440d-d902-464d-9230-1a5c04218310]: exited"}}
[debug] [2020-09-17T13:39:30.552Z] [worker-api-14f6440d-d902-464d-9230-1a5c04218310]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-14f6440d-d902-464d-9230-1a5c04218310]: FINISHED"}}
[debug] [2020-09-17T13:39:30.552Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T13:41:36.066Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T13:41:36.066Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T13:41:36.067Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-17T13:41:36.067Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-17T13:41:36.073Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-17T13:41:36.073Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-17T13:41:36.073Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T13:41:36.073Z] [worker-api-d341f2dd-dced-457b-82c0-b30868049aa0]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\2136 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d341f2dd-dced-457b-82c0-b30868049aa0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\2136"}}
[debug] [2020-09-17T13:41:36.073Z] [worker-api-d341f2dd-dced-457b-82c0-b30868049aa0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d341f2dd-dced-457b-82c0-b30868049aa0]: BUSY"}}
[debug] [2020-09-17T13:41:38.687Z] [runtime-status] [2136] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T13:41:38.702Z] [runtime-status] [2136] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Disabled runtime features: undefined"}}
[debug] [2020-09-17T13:41:38.799Z] [runtime-status] [2136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:41:38.803Z] [runtime-status] [2136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:41:38.807Z] [runtime-status] [2136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:41:38.812Z] [runtime-status] [2136] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T13:41:38.814Z] [runtime-status] [2136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:41:39.132Z] [runtime-status] [2136] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T13:41:39.134Z] [runtime-status] [2136] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:41:39.136Z] [runtime-status] [2136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:41:39.139Z] [runtime-status] [2136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:41:39.145Z] [runtime-status] [2136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:41:39.145Z] [runtime-status] [2136] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:41:40.084Z] [runtime-status] [2136] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T13:41:40.085Z] [runtime-status] [2136] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T13:41:40.086Z] [runtime-status] [2136] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Running api in mode HTTPS"}}
[debug] [2020-09-17T13:41:40.098Z] [runtime-status] [2136] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\2136 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\2136"}}
[debug] [2020-09-17T13:41:40.103Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T13:41:40.121Z] [runtime-status] [2136] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-17T13:41:40.152Z] [runtime-status] [2136] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2136] Ephemeral server survived."}}
[info] >  (node:2136) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2136) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2136) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2136) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2136) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2136) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2136) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2136) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2136) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-17T13:42:40.141Z] [worker-api-d341f2dd-dced-457b-82c0-b30868049aa0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d341f2dd-dced-457b-82c0-b30868049aa0]: exited"}}
[debug] [2020-09-17T13:42:40.141Z] [worker-api-d341f2dd-dced-457b-82c0-b30868049aa0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d341f2dd-dced-457b-82c0-b30868049aa0]: FINISHED"}}
[debug] [2020-09-17T13:42:40.141Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T13:43:02.765Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T13:43:02.765Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T13:43:02.765Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-17T13:43:02.766Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-17T13:43:02.780Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-17T13:43:02.780Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-17T13:43:02.780Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T13:43:02.780Z] [worker-api-3e3c3bd3-7e5a-4b16-8d4c-df5b5427fb0f]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\9528 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e3c3bd3-7e5a-4b16-8d4c-df5b5427fb0f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\9528"}}
[debug] [2020-09-17T13:43:02.780Z] [worker-api-3e3c3bd3-7e5a-4b16-8d4c-df5b5427fb0f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e3c3bd3-7e5a-4b16-8d4c-df5b5427fb0f]: BUSY"}}
[debug] [2020-09-17T13:43:04.722Z] [runtime-status] [9528] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T13:43:04.733Z] [runtime-status] [9528] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Disabled runtime features: undefined"}}
[debug] [2020-09-17T13:43:04.746Z] [runtime-status] [9528] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:43:04.749Z] [runtime-status] [9528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:43:04.751Z] [runtime-status] [9528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:43:04.756Z] [runtime-status] [9528] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T13:43:04.758Z] [runtime-status] [9528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:43:04.931Z] [runtime-status] [9528] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T13:43:04.932Z] [runtime-status] [9528] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:43:04.933Z] [runtime-status] [9528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:43:04.938Z] [runtime-status] [9528] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:43:04.940Z] [runtime-status] [9528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:43:04.940Z] [runtime-status] [9528] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:43:05.498Z] [runtime-status] [9528] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T13:43:05.499Z] [runtime-status] [9528] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T13:43:05.499Z] [runtime-status] [9528] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Running api in mode HTTPS"}}
[debug] [2020-09-17T13:43:05.513Z] [runtime-status] [9528] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\9528 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\9528"}}
[debug] [2020-09-17T13:43:05.519Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T13:43:05.550Z] [runtime-status] [9528] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-17T13:43:05.589Z] [runtime-status] [9528] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9528] Ephemeral server survived."}}
[info] >  (node:9528) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:9528) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9528) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:9528) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9528) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9528) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9528) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9528) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9528) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-17T13:44:05.610Z] [worker-api-3e3c3bd3-7e5a-4b16-8d4c-df5b5427fb0f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e3c3bd3-7e5a-4b16-8d4c-df5b5427fb0f]: exited"}}
[debug] [2020-09-17T13:44:05.610Z] [worker-api-3e3c3bd3-7e5a-4b16-8d4c-df5b5427fb0f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e3c3bd3-7e5a-4b16-8d4c-df5b5427fb0f]: FINISHED"}}
[debug] [2020-09-17T13:44:05.611Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-17T13:53:05.500Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-17T13:53:05.500Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-17T13:53:05.500Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-17T13:53:05.500Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-17T13:53:05.508Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-17T13:53:05.508Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-17T13:53:05.508Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-17T13:53:05.509Z] [worker-api-279d9900-fe27-44bb-9b0e-4c211af8590a]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\5632 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-279d9900-fe27-44bb-9b0e-4c211af8590a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\5632"}}
[debug] [2020-09-17T13:53:05.509Z] [worker-api-279d9900-fe27-44bb-9b0e-4c211af8590a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-279d9900-fe27-44bb-9b0e-4c211af8590a]: BUSY"}}
[debug] [2020-09-17T13:53:08.581Z] [runtime-status] [5632] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-17T13:53:08.649Z] [runtime-status] [5632] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Disabled runtime features: undefined"}}
[debug] [2020-09-17T13:53:08.661Z] [runtime-status] [5632] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:53:08.686Z] [runtime-status] [5632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:53:08.690Z] [runtime-status] [5632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:53:08.733Z] [runtime-status] [5632] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-17T13:53:08.734Z] [runtime-status] [5632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:53:08.981Z] [runtime-status] [5632] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-17T13:53:08.982Z] [runtime-status] [5632] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:53:08.984Z] [runtime-status] [5632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:53:08.987Z] [runtime-status] [5632] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:53:08.988Z] [runtime-status] [5632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-17T13:53:08.989Z] [runtime-status] [5632] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-17T13:53:09.855Z] [runtime-status] [5632] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-17T13:53:09.899Z] [runtime-status] [5632] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-17T13:53:09.899Z] [runtime-status] [5632] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Running api in mode HTTPS"}}
[debug] [2020-09-17T13:53:09.919Z] [runtime-status] [5632] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\5632 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\5632"}}
[debug] [2020-09-17T13:53:09.947Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-17T13:53:09.979Z] [runtime-status] [5632] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-17T13:53:10.067Z] [runtime-status] [5632] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5632] Ephemeral server survived."}}
[info] >  (node:5632) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:5632) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5632) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:5632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:5632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:5632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:5632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-17T13:54:09.952Z] [worker-api-279d9900-fe27-44bb-9b0e-4c211af8590a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-279d9900-fe27-44bb-9b0e-4c211af8590a]: exited"}}
[debug] [2020-09-17T13:54:09.952Z] [worker-api-279d9900-fe27-44bb-9b0e-4c211af8590a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-279d9900-fe27-44bb-9b0e-4c211af8590a]: FINISHED"}}
[debug] [2020-09-17T13:54:09.952Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-18T13:34:07.154Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-18T13:34:07.158Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-18T13:34:07.158Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=298662.00000000006 --> api
[debug] [2020-09-18T13:34:07.158Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-18T13:34:07.172Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-18T13:34:07.172Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-18T13:34:07.172Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-18T13:34:07.173Z] [worker-api-a728868f-7a24-46ff-97b3-86508f68a240]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\8524 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a728868f-7a24-46ff-97b3-86508f68a240]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\8524"}}
[debug] [2020-09-18T13:34:07.174Z] [worker-api-a728868f-7a24-46ff-97b3-86508f68a240]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a728868f-7a24-46ff-97b3-86508f68a240]: BUSY"}}
[debug] [2020-09-18T13:34:08.404Z] [runtime-status] [8524] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-18T13:34:08.407Z] [runtime-status] [8524] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Disabled runtime features: undefined"}}
[debug] [2020-09-18T13:34:08.425Z] [runtime-status] [8524] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:08.430Z] [runtime-status] [8524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:08.431Z] [runtime-status] [8524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:08.434Z] [runtime-status] [8524] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-18T13:34:08.434Z] [runtime-status] [8524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:08.534Z] [runtime-status] [8524] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-18T13:34:08.535Z] [runtime-status] [8524] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:34:08.536Z] [runtime-status] [8524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:08.538Z] [runtime-status] [8524] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:08.539Z] [runtime-status] [8524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:08.539Z] [runtime-status] [8524] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:34:08.924Z] [runtime-status] [8524] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-18T13:34:08.929Z] [runtime-status] [8524] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-18T13:34:08.929Z] [runtime-status] [8524] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Running api in mode HTTPS"}}
[debug] [2020-09-18T13:34:08.933Z] [runtime-status] [8524] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\8524 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\8524"}}
[debug] [2020-09-18T13:34:08.939Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-18T13:34:08.955Z] [runtime-status] [8524] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 298662.00000000006 {"user":"payment request recieved!!! for this amount >>> 298662.00000000006","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 298662.00000000006"}}
[debug] [2020-09-18T13:34:08.975Z] [runtime-status] [8524] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8524] Ephemeral server survived."}}
[info] >  (node:8524) UnhandledPromiseRejectionWarning: Error: Invalid integer: 298662.00000000006 {"user":"(node:8524) UnhandledPromiseRejectionWarning: Error: Invalid integer: 298662.00000000006","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8524) UnhandledPromiseRejectionWarning: Error: Invalid integer: 298662.00000000006"}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:8524) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8524) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8524) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8524) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8524) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8524) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-18T13:34:24.335Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-18T13:34:24.336Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-18T13:34:24.336Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=226163 --> api
[debug] [2020-09-18T13:34:24.342Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-18T13:34:24.342Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-18T13:34:24.342Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-18T13:34:24.342Z] [worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\10712 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\10712"}}
[debug] [2020-09-18T13:34:24.343Z] [worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: BUSY"}}
[debug] [2020-09-18T13:34:24.982Z] [runtime-status] [10712] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-18T13:34:24.990Z] [runtime-status] [10712] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Disabled runtime features: undefined"}}
[debug] [2020-09-18T13:34:24.999Z] [runtime-status] [10712] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:25.002Z] [runtime-status] [10712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:25.004Z] [runtime-status] [10712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:25.007Z] [runtime-status] [10712] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-18T13:34:25.008Z] [runtime-status] [10712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:25.074Z] [runtime-status] [10712] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-18T13:34:25.075Z] [runtime-status] [10712] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:34:25.076Z] [runtime-status] [10712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:25.077Z] [runtime-status] [10712] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:25.078Z] [runtime-status] [10712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:34:25.079Z] [runtime-status] [10712] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:34:25.326Z] [runtime-status] [10712] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-18T13:34:25.327Z] [runtime-status] [10712] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-18T13:34:25.328Z] [runtime-status] [10712] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Running api in mode HTTPS"}}
[debug] [2020-09-18T13:34:25.336Z] [runtime-status] [10712] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\10712 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\10712"}}
[debug] [2020-09-18T13:34:25.341Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-18T13:34:25.356Z] [runtime-status] [10712] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 226163 {"user":"payment request recieved!!! for this amount >>> 226163","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 226163"}}
[debug] [2020-09-18T13:34:25.379Z] [runtime-status] [10712] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-18T13:34:25.914Z] [worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: IDLE"}}
[debug] [2020-09-18T13:34:25.914Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-18T13:34:26.493Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-18T13:34:26.493Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-18T13:34:26.493Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=149331 --> api
[debug] [2020-09-18T13:34:26.494Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-18T13:34:26.494Z] [worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\10712 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\10712"}}
[debug] [2020-09-18T13:34:26.494Z] [worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: BUSY"}}
[debug] [2020-09-18T13:34:26.495Z] [runtime-status] [10712] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-18T13:34:26.497Z] [runtime-status] [10712] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-18T13:34:26.497Z] [runtime-status] [10712] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Running api in mode HTTPS"}}
[debug] [2020-09-18T13:34:26.498Z] [runtime-status] [10712] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\10712 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\10712"}}
[debug] [2020-09-18T13:34:26.499Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-18T13:34:26.503Z] [runtime-status] [10712] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 149331 {"user":"payment request recieved!!! for this amount >>> 149331","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 149331"}}
[debug] [2020-09-18T13:34:26.506Z] [runtime-status] [10712] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-18T13:34:26.970Z] [worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: IDLE"}}
[debug] [2020-09-18T13:34:26.971Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-18T13:35:08.960Z] [worker-api-a728868f-7a24-46ff-97b3-86508f68a240]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a728868f-7a24-46ff-97b3-86508f68a240]: exited"}}
[debug] [2020-09-18T13:35:08.960Z] [worker-api-a728868f-7a24-46ff-97b3-86508f68a240]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a728868f-7a24-46ff-97b3-86508f68a240]: FINISHED"}}
[debug] [2020-09-18T13:35:08.960Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-18T13:36:31.466Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-18T13:36:31.466Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-18T13:36:31.466Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-18T13:36:31.466Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-18T13:36:31.467Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-18T13:36:31.467Z] [worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\10712 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\10712"}}
[debug] [2020-09-18T13:36:31.467Z] [worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: BUSY"}}
[debug] [2020-09-18T13:36:31.468Z] [runtime-status] [10712] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-18T13:36:31.486Z] [runtime-status] [10712] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-18T13:36:31.487Z] [runtime-status] [10712] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Running api in mode HTTPS"}}
[debug] [2020-09-18T13:36:31.487Z] [runtime-status] [10712] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\10712 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\10712"}}
[debug] [2020-09-18T13:36:31.491Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-18T13:36:31.499Z] [runtime-status] [10712] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-18T13:36:31.511Z] [runtime-status] [10712] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10712] Ephemeral server survived."}}
[info] >  (node:10712) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:10712) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10712) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:10712) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:10712) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10712) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:10712) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:10712) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10712) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-18T13:37:31.494Z] [worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: exited"}}
[debug] [2020-09-18T13:37:31.494Z] [worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e66dc68d-465d-4aec-b7b4-ea88f9c9e643]: FINISHED"}}
[debug] [2020-09-18T13:37:31.494Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-18T13:37:39.999Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-18T13:37:39.999Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-18T13:37:40.000Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=78999 --> api
[debug] [2020-09-18T13:37:40.000Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-18T13:37:40.010Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-18T13:37:40.010Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-18T13:37:40.011Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-18T13:37:40.011Z] [worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\14992 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\14992"}}
[debug] [2020-09-18T13:37:40.011Z] [worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: BUSY"}}
[debug] [2020-09-18T13:37:41.452Z] [runtime-status] [14992] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-18T13:37:41.460Z] [runtime-status] [14992] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Disabled runtime features: undefined"}}
[debug] [2020-09-18T13:37:41.470Z] [runtime-status] [14992] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:37:41.472Z] [runtime-status] [14992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:37:41.474Z] [runtime-status] [14992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:37:41.476Z] [runtime-status] [14992] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-18T13:37:41.477Z] [runtime-status] [14992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:37:41.547Z] [runtime-status] [14992] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-18T13:37:41.548Z] [runtime-status] [14992] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:37:41.549Z] [runtime-status] [14992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:37:41.550Z] [runtime-status] [14992] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:37:41.551Z] [runtime-status] [14992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:37:41.551Z] [runtime-status] [14992] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:37:41.816Z] [runtime-status] [14992] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-18T13:37:41.817Z] [runtime-status] [14992] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-18T13:37:41.818Z] [runtime-status] [14992] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Running api in mode HTTPS"}}
[debug] [2020-09-18T13:37:41.824Z] [runtime-status] [14992] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\14992 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\14992"}}
[debug] [2020-09-18T13:37:41.829Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-18T13:37:41.842Z] [runtime-status] [14992] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 78999 {"user":"payment request recieved!!! for this amount >>> 78999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 78999"}}
[debug] [2020-09-18T13:37:41.861Z] [runtime-status] [14992] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-18T13:37:42.474Z] [worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: IDLE"}}
[debug] [2020-09-18T13:37:42.475Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-18T13:38:51.310Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-18T13:38:51.311Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-18T13:38:51.311Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-18T13:38:51.311Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-18T13:38:51.311Z] [worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\14992 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\14992"}}
[debug] [2020-09-18T13:38:51.311Z] [worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: BUSY"}}
[debug] [2020-09-18T13:38:51.312Z] [runtime-status] [14992] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-18T13:38:51.315Z] [runtime-status] [14992] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-18T13:38:51.316Z] [runtime-status] [14992] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Running api in mode HTTPS"}}
[debug] [2020-09-18T13:38:51.316Z] [runtime-status] [14992] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\14992 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\14992"}}
[debug] [2020-09-18T13:38:51.319Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-18T13:38:51.324Z] [runtime-status] [14992] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-18T13:38:51.327Z] [runtime-status] [14992] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14992] Ephemeral server survived."}}
[info] >  (node:14992) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:14992) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14992) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:14992) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:14992) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14992) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:14992) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14992) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14992) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-18T13:39:11.698Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-18T13:39:11.698Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-18T13:39:11.698Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=6500 --> api
[debug] [2020-09-18T13:39:11.705Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-18T13:39:11.705Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-18T13:39:11.706Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-18T13:39:11.706Z] [worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\15892 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\15892"}}
[debug] [2020-09-18T13:39:11.706Z] [worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: BUSY"}}
[debug] [2020-09-18T13:39:13.076Z] [runtime-status] [15892] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-18T13:39:13.086Z] [runtime-status] [15892] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Disabled runtime features: undefined"}}
[debug] [2020-09-18T13:39:13.097Z] [runtime-status] [15892] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:39:13.101Z] [runtime-status] [15892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:39:13.103Z] [runtime-status] [15892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:39:13.106Z] [runtime-status] [15892] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-18T13:39:13.107Z] [runtime-status] [15892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:39:13.182Z] [runtime-status] [15892] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-18T13:39:13.182Z] [runtime-status] [15892] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:39:13.183Z] [runtime-status] [15892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:39:13.185Z] [runtime-status] [15892] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:39:13.186Z] [runtime-status] [15892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:39:13.187Z] [runtime-status] [15892] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:39:13.480Z] [runtime-status] [15892] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-18T13:39:13.485Z] [runtime-status] [15892] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-18T13:39:13.486Z] [runtime-status] [15892] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Running api in mode HTTPS"}}
[debug] [2020-09-18T13:39:13.495Z] [runtime-status] [15892] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\15892 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\15892"}}
[debug] [2020-09-18T13:39:13.502Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-18T13:39:13.516Z] [runtime-status] [15892] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 6500 {"user":"payment request recieved!!! for this amount >>> 6500","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 6500"}}
[debug] [2020-09-18T13:39:13.537Z] [runtime-status] [15892] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-18T13:39:14.125Z] [worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: IDLE"}}
[debug] [2020-09-18T13:39:14.126Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-18T13:39:19.155Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-18T13:39:19.155Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-18T13:39:19.156Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-18T13:39:19.156Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-18T13:39:19.161Z] [worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\15892 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\15892"}}
[debug] [2020-09-18T13:39:19.161Z] [worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: BUSY"}}
[debug] [2020-09-18T13:39:19.162Z] [runtime-status] [15892] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-18T13:39:19.164Z] [runtime-status] [15892] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-18T13:39:19.164Z] [runtime-status] [15892] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Running api in mode HTTPS"}}
[debug] [2020-09-18T13:39:19.164Z] [runtime-status] [15892] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\15892 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\15892"}}
[debug] [2020-09-18T13:39:19.166Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-18T13:39:19.169Z] [runtime-status] [15892] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-18T13:39:19.173Z] [runtime-status] [15892] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15892] Ephemeral server survived."}}
[info] >  (node:15892) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15892) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15892) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:15892) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15892) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15892) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15892) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15892) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15892) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-18T13:39:51.369Z] [worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: exited"}}
[debug] [2020-09-18T13:39:51.370Z] [worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b4c13e5-f4b2-4afb-a7a1-9826a36907fa]: FINISHED"}}
[debug] [2020-09-18T13:39:51.370Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-18T13:40:19.187Z] [worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: exited"}}
[debug] [2020-09-18T13:40:19.187Z] [worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27a26de4-eb80-4bf2-8dea-dd62e8344b09]: FINISHED"}}
[debug] [2020-09-18T13:40:19.187Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-18T13:52:55.386Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-18T13:52:55.386Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-18T13:52:55.387Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-18T13:52:55.387Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-18T13:52:55.396Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-18T13:52:55.396Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-18T13:52:55.396Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-18T13:52:55.397Z] [worker-api-f17037d6-efc9-4549-bdf5-9faeb8bdcd09]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\9980 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f17037d6-efc9-4549-bdf5-9faeb8bdcd09]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\9980"}}
[debug] [2020-09-18T13:52:55.397Z] [worker-api-f17037d6-efc9-4549-bdf5-9faeb8bdcd09]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f17037d6-efc9-4549-bdf5-9faeb8bdcd09]: BUSY"}}
[debug] [2020-09-18T13:52:57.191Z] [runtime-status] [9980] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-18T13:52:57.201Z] [runtime-status] [9980] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Disabled runtime features: undefined"}}
[debug] [2020-09-18T13:52:57.207Z] [runtime-status] [9980] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:52:57.215Z] [runtime-status] [9980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:52:57.218Z] [runtime-status] [9980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:52:57.221Z] [runtime-status] [9980] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-18T13:52:57.222Z] [runtime-status] [9980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:52:57.301Z] [runtime-status] [9980] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-18T13:52:57.302Z] [runtime-status] [9980] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:52:57.303Z] [runtime-status] [9980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:52:57.305Z] [runtime-status] [9980] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:52:57.306Z] [runtime-status] [9980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:52:57.308Z] [runtime-status] [9980] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:52:57.557Z] [runtime-status] [9980] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-18T13:52:57.560Z] [runtime-status] [9980] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-18T13:52:57.560Z] [runtime-status] [9980] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Running api in mode HTTPS"}}
[debug] [2020-09-18T13:52:57.566Z] [runtime-status] [9980] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\9980 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\9980"}}
[debug] [2020-09-18T13:52:57.570Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-18T13:52:57.590Z] [runtime-status] [9980] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 0 {"user":"payment request recieved!!! for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 0"}}
[debug] [2020-09-18T13:52:57.648Z] [runtime-status] [9980] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9980] Ephemeral server survived."}}
[info] >  (node:9980) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:9980) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9980) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\Error.js:39:16) {"user":"    at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\Bogdan\Desktop\amazon_clone\functions\node_modules\stripe\lib\StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:416:28) {"user":"    at Object.onceWrapper (events.js:416:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:416:28)"}}
[info] >      at IncomingMessage.emit (events.js:322:22) {"user":"    at IncomingMessage.emit (events.js:322:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:322:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1187:12) {"user":"    at endReadableNT (_stream_readable.js:1187:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1187:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:9980) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9980) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9980) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9980) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9980) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9980) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\Bogdan\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\Bogdan\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2020-09-18T13:53:57.580Z] [worker-api-f17037d6-efc9-4549-bdf5-9faeb8bdcd09]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f17037d6-efc9-4549-bdf5-9faeb8bdcd09]: exited"}}
[debug] [2020-09-18T13:53:57.580Z] [worker-api-f17037d6-efc9-4549-bdf5-9faeb8bdcd09]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f17037d6-efc9-4549-bdf5-9faeb8bdcd09]: FINISHED"}}
[debug] [2020-09-18T13:53:57.580Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-18T13:54:20.391Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-18T13:54:20.391Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-18T13:54:20.391Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=6500 --> api
[debug] [2020-09-18T13:54:20.391Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-18T13:54:20.398Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-18T13:54:20.398Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-18T13:54:20.398Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-18T13:54:20.398Z] [worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\9988 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\9988"}}
[debug] [2020-09-18T13:54:20.399Z] [worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: BUSY"}}
[debug] [2020-09-18T13:54:21.637Z] [runtime-status] [9988] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-18T13:54:21.646Z] [runtime-status] [9988] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Disabled runtime features: undefined"}}
[debug] [2020-09-18T13:54:21.654Z] [runtime-status] [9988] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:54:21.657Z] [runtime-status] [9988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:54:21.659Z] [runtime-status] [9988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:54:21.661Z] [runtime-status] [9988] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-18T13:54:21.662Z] [runtime-status] [9988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:54:21.728Z] [runtime-status] [9988] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-18T13:54:21.728Z] [runtime-status] [9988] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:54:21.729Z] [runtime-status] [9988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:54:21.731Z] [runtime-status] [9988] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:54:21.732Z] [runtime-status] [9988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T13:54:21.732Z] [runtime-status] [9988] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T13:54:21.989Z] [runtime-status] [9988] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-18T13:54:21.990Z] [runtime-status] [9988] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-18T13:54:21.990Z] [runtime-status] [9988] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Running api in mode HTTPS"}}
[debug] [2020-09-18T13:54:21.998Z] [runtime-status] [9988] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\9988 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\9988"}}
[debug] [2020-09-18T13:54:22.003Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-18T13:54:22.017Z] [runtime-status] [9988] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 6500 {"user":"payment request recieved!!! for this amount >>> 6500","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 6500"}}
[debug] [2020-09-18T13:54:22.037Z] [runtime-status] [9988] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-18T13:54:22.649Z] [worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: IDLE"}}
[debug] [2020-09-18T13:54:22.649Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-18T14:01:20.634Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-18T14:01:20.635Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-18T14:01:20.635Z] Accepted request POST /clone-60d22/us-central1/api/payments/create?total=72499 --> api
[debug] [2020-09-18T14:01:20.635Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-18T14:01:20.635Z] [worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\9988 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\9988"}}
[debug] [2020-09-18T14:01:20.635Z] [worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: BUSY"}}
[debug] [2020-09-18T14:01:20.636Z] [runtime-status] [9988] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-18T14:01:20.640Z] [runtime-status] [9988] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-18T14:01:20.640Z] [runtime-status] [9988] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Running api in mode HTTPS"}}
[debug] [2020-09-18T14:01:20.641Z] [runtime-status] [9988] Attempting to listen to socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\9988 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\9988"}}
[debug] [2020-09-18T14:01:20.643Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-18T14:01:20.650Z] [runtime-status] [9988] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Ephemeral server handling POST request"}}
[info] >  payment request recieved!!! for this amount >>> 72499 {"user":"payment request recieved!!! for this amount >>> 72499","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved!!! for this amount >>> 72499"}}
[debug] [2020-09-18T14:01:20.664Z] [runtime-status] [9988] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-18T14:01:21.198Z] [worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: IDLE"}}
[debug] [2020-09-18T14:01:21.198Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-18T14:01:46.505Z] File C:\Users\Bogdan\Desktop\amazon_clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2020-09-18T14:01:46.602Z] File C:\Users\Bogdan\Desktop\amazon_clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2020-09-18T14:01:47.607Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-18T14:01:47.608Z] [worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: FINISHING"}}
[debug] [2020-09-18T14:01:47.609Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2020-09-18T14:01:47.610Z] [worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: FINISHING"}}
[debug] [2020-09-18T14:01:47.620Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-18T14:01:47.621Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-18T14:01:47.621Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-18T14:01:47.621Z] [worker-~diagnostic~-f7197d1c-c3cc-42b9-a44f-465afb1ee788]: Assigning socketPath: \\?\pipe\C:\Users\Bogdan\Desktop\amazon_clone\functions\3344 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f7197d1c-c3cc-42b9-a44f-465afb1ee788]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\3344"}}
[debug] [2020-09-18T14:01:47.621Z] [worker-~diagnostic~-f7197d1c-c3cc-42b9-a44f-465afb1ee788]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f7197d1c-c3cc-42b9-a44f-465afb1ee788]: BUSY"}}
[debug] [2020-09-18T14:01:47.648Z] [worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: exited"}}
[debug] [2020-09-18T14:01:47.649Z] [worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2307868d-4257-40e3-8fad-8120a88a5072]: FINISHED"}}
[debug] [2020-09-18T14:01:47.663Z] [worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: exited"}}
[debug] [2020-09-18T14:01:47.663Z] [worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bd2b74fd-52d9-416c-967e-a98304dc761e]: FINISHED"}}
[debug] [2020-09-18T14:01:49.338Z] [runtime-status] [3344] Functions runtime initialized. {"cwd":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions","node_version":"12.16.3"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\",\"node_version\":\"12.16.3\"}"}}
[debug] [2020-09-18T14:01:49.342Z] [runtime-status] [3344] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] Disabled runtime features: undefined"}}
[debug] [2020-09-18T14:01:49.352Z] [runtime-status] [3344] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T14:01:49.358Z] [runtime-status] [3344] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T14:01:49.379Z] [runtime-status] [3344] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T14:01:49.384Z] [runtime-status] [3344] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-18T14:01:49.387Z] [runtime-status] [3344] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T14:01:49.656Z] [runtime-status] [3344] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-18T14:01:49.657Z] [runtime-status] [3344] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T14:01:49.658Z] [runtime-status] [3344] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T14:01:49.661Z] [runtime-status] [3344] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T14:01:49.662Z] [runtime-status] [3344] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-09-18T14:01:49.663Z] [runtime-status] [3344] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\Bogdan\\Desktop\\amazon_clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3344] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\amazon_clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-09-18T14:01:50.846Z] [worker-~diagnostic~-f7197d1c-c3cc-42b9-a44f-465afb1ee788]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f7197d1c-c3cc-42b9-a44f-465afb1ee788]: IDLE"}}
